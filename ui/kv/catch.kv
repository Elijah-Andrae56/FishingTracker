<LogCatchPopup>:
    title: "Log Catch"
    size_hint: .9, .9

    BoxLayout:               # ‚Üê ONE root child for the popup
        orientation: "vertical"
        spacing: "8dp"
        padding: "12dp"

        # --- Species row ------------------------------------------
        BoxLayout:
            spacing: "8dp"
            Spinner:
                id: species_sp
                text: root.init_species_text
                values: root.species_choices
                size_hint_x: .55
            TextInput:
                id: species_txt
                hint_text: "...or type new"
                multiline: False
                size_hint_x: .45

        # --- Bait row ---------------------------------------------
        BoxLayout:
            spacing: "8dp"
            Spinner:
                id: bait_sp
                text: root.init_bait_text
                values: root.bait_choices
                size_hint_x: .55
            TextInput:
                id: bait_txt
                hint_text: "...or type new"
                multiline: False
                size_hint_x: .45

        # --- Length & notes ---------------------------------------
        TextInput:
            id: length_in
            hint_text: "Length (in)"
            input_filter: "float"
        TextInput:
            id: notes
            hint_text: "Notes"
            multiline: True
            height: "80dp"
        # --- Buttons row ----------------------------------------------------
        BoxLayout:
            spacing: "8dp"
            size_hint_y: None
            height: "48dp"

            Button:
                text: "Cancel"
                on_release: root.dismiss()          # simply close the popup

            Button:
                text: "Save"
                on_release:
                    app.save_catch(species_sp.text, bait_sp.text, length_in.text, notes.text)
                    root.dismiss()
